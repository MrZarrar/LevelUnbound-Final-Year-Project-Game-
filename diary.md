# ðŸ“˜ Diary

### ðŸ“… 30/09/25 - 06/10/25  
- Researched different game engines such as Unity, Godot and Unreal Engine 
- Decided to go for a 3D game so made the decision to use Unity
- Installed and set up Unity to get used to the software
- Started Drafting Game ideas 

---

### ðŸ“… 07/10/25 - 10/10/25
- Finalised game idea: 
- Grind Based RPG game with adaptive difficulty and real world integration
- Player has stats (agility, strength, mana, etc) which are upgraded with levels, dungeons contain various enemies to level up
- Items can be bought by trading dungeon loot for coins
- New skills are unlocked by defeating bosses which are only accessible after finding Gate Key (whether by opening a mystery box or as random dungeon loot)
- Dungeon levels are generated by player skill level so that it is adaptive
- ML integration: Enemies adapt in real time to player skill and play style
- Integrated to a phone app where user can complete real life challenges such as pushups, sit ups, steps walked in order to level up in game player 


- Had first supervisor meeting
- Started and Completed Project Plan

---

### ðŸ“… 11/10/25 - 13/10/25
- Started creating the game in Unity
- Set up basic movement on a cube using get key down for WASD
- imported a player character to replace cube
- Learnt about Unity's new Input Actions System so re did the code to use that - much smoother
- Added crouch, jump and sprint jump along with animation controller for all movement 

- Added a Third Person Camera by making the main camera follow player object 
- The camera was very jittery when trying to free look so I did some research i found about CineMachine Camera
- Re did the third person camera to use cinemachine and added an empty game object on the shoulder of the player to set as tracking target whereas before it would be looking at the feet of the player
- Added Zoom functionality to the camera
- Added Mouse locking to allow natural free look and unlocking by pressing escape key
- Updated Movement code to follow the direction of camera when moving forward

---

### ðŸ“… 14/10/25 - 15/10/25
- Added Combat mechanics by adding a sword and holder in the player hand and sheath holder. Added weapon equip using R key and animations to equip and sheath as well as 5 attack animations. The sword is instantiated at the sheath when not equipped and when equip is clicked, the unsheath animation plays and the sword is instantiated into the hand holder.
- Attack Animations were broken because the attacks would be qeued so if you spam click attack (left mouse button) like a player naturally would, the animations would play, so if you clicked 10 times really quick, the character would cycle through the animations 10 times and would be stuck attacking for very long.
- Changed it so that there are only 2 attack animations and they are linked to each other as well as back to the locomotion, the second attack animation only plays if you double click.
- Also learnt about Finite State Machines and revamped the code to have multiple states such as sprinting state, crouching state, combat state, attacking state, etc.
- Setting up Animation layer for combat took quite a while and there is a seperate movement locomotion blend tree for combat state.
- There is no link between combat state and crouch and jump so currently player cannot sprint, crouch or jump when sword is equipped - might keep it like that.

- Added a skeleton enemy to test Combat
- Added a small map to make the game look like an actual game and might use this later on for a boss battle
- Added an empty game object that lies on the tip of the sword with a Damage Dealer class as its component
- The damage dealer component casts a ray down from the tip of the sword to the handle - this ray is what deals damage
- Added basic animation for Skelly, such as idle, walking, attacking and taking damage
- Added an Enemy script to skelly that attaches it to the animator and contains the function to take damage, death where the game object is destroyed
- Main issue today: Started by using a box collider and collisions to deal damage - this was unpolished as damage would be dealt iconsistently and unexpectedly, using the ray fixed this
- Added motion events in the animator to call the start and end damage dealing function inside the damage dealer class - this makes it so that the sword can only deal damage when the sword is being swung (infront of the player)


---


### ðŸ“… 16/10/25 - 17/10/25
- Added 'Ai' to the enemy using Unity's Navmesh Agents 
- Added code for the enemy to follow player and attack once in range
- Added 2 gizmos: yellow shows within what range the enemy is aggroed by the player, red shows what range it plays the attack animation
- Added damage dealer to skelly sword and used the same concept as I did for player
- Added a simple Health System script to player which configures players hp, and decrements hp until 0 where player's game object is destroyed
- Damage dealing was not working on skelly sword, so I added a red debug ray to see where the ray is being casted and changed attack range gizmo to blue
- fixed ray alignment
- Added take damage function to player's health system linked to an animation.

---

### ðŸ“… 18/10/25 
- Added Combat VFX to make the game look less bland (for fun)
- Added A water Slash for the Water sword
- Added VFX for enemy and player damage
- For enemy damage, I made the VFX a field of the enemy class, but it didnt spawn in as expected so i used the playe's damage dealer class to instantiate the vfx at the hit point
- Vice versa for player
- Slash VFX was spawning but was not visible - went into scene view and focused on the newly created vfx object during an attack and saw that it was spawning under the map at a fixed location
- Parented the sword for the affect and setting its position to instantiate a the tip of the sword.

---

### ðŸ“… 20/10/25 
- Added Player and Enemy ragdolls to be instantiated upon death
- Started by duplicating the skelly to add a ragdoll component 
- In doing so I have a seperate skelly ragdoll prefab, which I can instantiate when the real skelly dies and disappears
- Issue: skelly would not die and a lot of ragdolls would start spawning in the game hierarchy
- This was because when I duplicated skelly to create the ragdoll, all the components (such as animator and script) got carried over - so the spawned ragdoll would just replace the dead skelly with an alive once
- Removed all components and it was successful, however I thought that if there are alot of enemies that you kill, all the ragdolls would clutter the game and also waste resources
- So I made it so that the ragdoll disappears after 10 seconds
- Repeated the exact same process for the player 

---



### ðŸ“… 21/10/25 
- Added a health bar as a UI canvas with image including a border, fill and heart.
- The health bar has a slider component which is set by health.
- When game starts the enemy's health is set to max value of slider and upon taking damage, the recalculated health is set to to the slider's normalised value
- The healthbar starts green, then goes yellow after reaching a certain threshold, and then red when it is close to 0
- Currently the healthbar is a 2D UI object in world space, as a child of the enemy and is placed above the head, it does not follow camera therefore looks odd from certain angles
- The healthbar also needs to only appear after an enemy is hit, instead of always being visible.

---


### ðŸ“… 22/10/25 
- Discovered issues: 
- -Due to freelook logic, the player does not ROTATE with camera, unless moving; causes difficulty in attacking as it is difficult to make the player face the enemy, especially as the enemy moves
- -Hit VFX for player damage object does not get destroyed but just disappears as the animation stops playing - still exists in the hierarchy - causes clutter
- Turned the HP bar into a billboard that always faces the camera, and instad of using Update, I am using LateUpdate so that it updates after the camera has finished moving to avoid jitter -  if the camera moves and then the enemy also moves there is jitter.
- Looks at camera by transforming current position plus one unit towards where the camera is looking at (forward)
- Updated Billboard to use the world main camera automatically instead of manually assigning a camera - this is because it was not scalable to assign a camera every time an enemy is added to the scene, initally i was using a pre defined main camera prefab but in doing so the health bar was not rotating to follow the camera correctly, it was stuck facing the initial positon of the main camera as it was referencing the prefab and not the real time camera
- Set Healthbar as unactive in Unity and created a method in enemy class that shows health bar (sets it to active) - this is called after the enemy takes damage for the first time - Only show relevant health bars opposed to bars for all enemies - if there are 100 enemies it would clutter the UI


### ðŸ“… 04/11/25
- Added A Player HUD canvas with a player health bar and Mana bar
- Reused the enemy health bar object, enlarged it and placed it on the top left with mana bar underneath
- Linked Health bar to Healthsystem script to update the values and slider every time health changes(up or down)

---


### ðŸ“… 05/11/25 
- Added Basic Stats System to initalise levels with Agility, Strength, Intelligence and Vitality values
- Linked Mana bar to the intelligence stat
- Added a Stamina bar and XP Bar with level
- Added a levelling up animation and enemies now drop a set xp (set in enemy data when creating enemy types)
- Stamina drain pauses when sprint jumping, and Does not regen whilst attacking - need to fix
- Leveling up increases all stats at once and also refills mana and health for siphon - short term incentive to level up. Will change the stats increase to a stats menu where leveling up gives points which can be allocated to different stats, allows for a more personalized experience and playstyle.

---


### ðŸ“… 06/11/25 - 11/11/25 
- Added a Wave Spawner that is set up using Scriptable Wave objects that I made, allows for custom waves to be added to every level easily - scalable
- Revamped enemies to use the same approach where there is one enemy script linked to an enemy data script. The enemy data is also a scriptable object, allowing many different types of enemies to be created very easily rather than coding each new enemy.
- Enemy data defines each enemies stats like health, speed, aggro distance, attack distance, damage, and how much xp they drop
- Added Zombies, move slow but attack using both hands - doing twice the damage in the same time 
- Switched back to colliders for damage dealing since raycasting was not scalable to add different weapons as it only worked best with long swords, not hands.
- Error: the collider would not move during zombie attack - because i attached it to the hand's mesh and not the hand bone, which is what moves during animation.
- Error: Inconsistent damage being done by player, this was because the base weapon damage is set when the sword is unsheathed and is updated when the strength stat increases(upon levelling up), this meant if i unequipped and re equipped the sowrd, the boost from strength stat would be overridden by the base weapon damage, and then re applied after levelling up
- Issues with vfx not being destroyed and causing clutter, added an automatic vfx destroyer that is attached to each vfx and calculated the individual duration for each vfx to destroy it after it plays exactly once

---

### ðŸ“… 12/11/25 
- Added a customized player character and replaced the dummy character i previously had
- added a game over canvas that darkens the screen and contains a try again button to respawn the user
- Issue: screen would pop up instantly as the player health would reach 0, added a delay to wait for a few seconds, to let the ragdoll drop


---